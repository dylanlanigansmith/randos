boot start
using Serial COM1 for debug out 
==init GDT, TSS==
gdt ptr = 0x10b3f0 tss - gdt = 0x28
stack top = 0x118000 end = 0x114000 size = 0x4000
copied GDT tss to 0x10c194
==Reloaded GDT, Loaded TSS==
===DUMP GDT===
gdt->kernel_cs:
  limit_0_15: 0x0
  base_0_15: 0x0
  base_16_23: 0x0
  ---access bit--- 
  	accessed: 0x1
  	RW: 0x1
  	DC: 0x0
  	exec: 0x1
  	not_sys: 0x1
  	priv: 0x0
  	present: 0x1
  limit_16_19_and_flags: 0x20 0b00100000
  base_24_31: 0x0
gdt->kernel_ds:
  limit_0_15: 0x0
  base_0_15: 0x0
  base_16_23: 0x0
  ---access bit--- 
    accessed: 0x1
  	RW: 0x1
    DC: 0x0
    exec: 0x0
    not_sys: 0x1
    priv: 0x0
    present: 0x1
  limit_16_19_and_flags: 0x0 0b0
  base_24_31: 0x0
gdt->user_cs:
  limit_0_15: 0x0
  base_0_15: 0x0
  base_16_23: 0x0
  ---access bit--- 
  	accessed: 0x0
  	RW: 0x1
  	DC: 0x0
  	exec: 0x1
  	not_sys: 0x1
  	priv: 0x3
  	present: 0x1
  limit_16_19_and_flags: 0x20 0b00100000
  base_24_31: 0x0
gdt->user_ds:
  limit_0_15: 0x0
  base_0_15: 0x0
  base_16_23: 0x0
  ---access bit--- 
  	accessed: 0x0
  	RW: 0x1
  	DC: 0x0
  	exec: 0x0
  	not_sys: 0x1
  	priv: 0x3
  	present: 0x1
  limit_16_19_and_flags: 0x0 0b0
  base_24_31: 0x0
gdt->tss:
  size: 0x67
  base_0_15: 0xd0e0
  base_16_23: 0x10
  ---access bit--- 
  	accessed: 0x1
  	RW: 0x1
  	DC: 0x0
 	exec: 0x1
  	not_sys: 0x0
  	priv: 0x0
 	present: 0x1
  flags: 0x0
  base_24_31: 0x0
  base_31_64: 0x0
  reserved0: 0x0
=== END GDT DUMP === 
 
boot phase 1 complete
multiboot2 addr = 0x121d48 magic = 0x36d76289 
parse_multiboot_header()
===MULTIBOOT_TAG_TYPE_MMAP===
mmaps->entry_size: 24 
mmaps->entry_version: 0x0 
mmap [0]:{ @0x0 - 0x9fc00 } size 0x9fc00 |  mem_avail 1 
mmap [1]:{ @0x9fc00 - 0xa0000 } size 0x400 |  mem_reserved 2 
mmap [2]:{ @0xf0000 - 0x100000 } size 0x10000 |  mem_reserved 2 
mmap [3]:{ @0x100000 - 0xbffe0000 } size 0xbfee0000 |  mem_avail 1 
mmap [4]:{ @0xbffe0000 - 0xc0000000 } size 0x20000 |  mem_reserved 2 
mmap [5]:{ @0xfeffc000 - 0xff000000 } size 0x4000 |  mem_reserved 2 
mmap [6]:{ @0xfffc0000 - 0x100000000 } size 0x40000 |  mem_reserved 2 
mmap [7]:{ @0x100000000 - 0x240000000 } size 0x140000000 |  mem_avail 1 
mmap [8]:{ @0x41400000009 - 0x45400000019 } size 0x4000000010 |  mem_unknown 15 
mmap [9]:{ @0x0 - 0x0 } size 0x0 |  mem_unknown 0 
mmap [10]:{ @0x0 - 0x0 } size 0x0 |  mem_unknown 0 
mmap [11]:{ @0x0 - 0x1b00000000 } size 0x1b00000000 |  mem_avail 1 
mmap [12]:{ @0x10000000000000 - 0x10100000000000 } size 0x100000000000 |  mem_unknown 0 
mmap [13]:{ @0x0 - 0x800000000 } size 0x800000000 |  mem_unknown 0 
mmap [14]:{ @0x2100000000 - 0x2700000001 } size 0x600000001 |  mem_unknown 0 
mmap [15]:{ @0x200000000000 - 0x9c4c00000000 } size 0x7c4c00000000 |  mem_unknown 0 
mmap [16]:{ @0x1000000000 - 0x1000000000 } size 0x0 |  mem_unknown 0 
mmap [17]:{ @0x600000001 - 0x108c5200000001 } size 0x108c4c00000000 |  mem_unknown 0 
mmap [18]:{ @0x2200000000 - 0x2200000000 } size 0x0 |  mem_unknown 0 
mmap [19]:{ @0x0 - 0x4000000000 } size 0x4000000000 |  mem_avail 1 
mmap [20]:{ @0x108c6e00000000 - 0x1128dc00000000 } size 0x9c6e00000000 |  mem_unknown 0 
mmap [21]:{ @0x0 - 0x200000000 } size 0x200000000 |  mem_unknown 0 
mmap [22]:{ @0x5b00000000 - 0x6100000001 } size 0x600000001 |  mem_unknown 0 
mmap [23]:{ @0x9cd800000000 - 0x9d0400000000 } size 0x2c00000000 |  mem_unknown 0 
found VBE
fb @ 0xfc000000 h= 768 p= 4096 
===MULTIBOOT_TAG_TYPE_ACPI_OLD===
rsdp->Signature: 'RSD PTR ' 
rsdp->OEMID: 'BOCHS ' 
rsdp->Revision: 0 
rsdp->Checksum: 57 
rsdp->RsdtAddress: 0xbffe1c40 
parsed mb2 header successfully
CPUID available = YES
cr3 = : 0x11a000 
address p4 = : 0x11a000 
address p4real = : 0x11a000 
address p3 = : 0x11b000 
address p3 via p4[0] = : 0x11b023 
Extended VA: : 0xfc000000 
idx for VA : 0xfc000000 
p4 idx : 0 
p3 idx : 3 
p2 idx : 480 
p1 idx : 0 
 p4 =0  p3 = 3 p2 = 480 p1 = 0 
 p4 =0  p3 = 3 p2 = 480 p1 = 0 
mapping virtual : 0xfc000000 
mapping physical : 0xfc000000 
pages = : 2 
mapped : 0xfc000000 
to physical addresss: 0xfc000000 
==flushed TLB==
invalidated: 0xfc000000 
0 > p4 : 0x11b023 
cr3 = : 0x11a000 
Extended VA: : 0xffffbeefed000000 
idx for VA : 0xffffbeefed000000 
p4 idx : 381 
p3 idx : 447 
p2 idx : 360 
p1 idx : 0 
 p4 =381  p3 = 447 p2 = 360 p1 = 0 
 p4 =381  p3 = 447 p2 = 360 p1 = 0 
NEW mapping virtual : 0xffffbeefed000000 
mapping physical : 0x80000000 
pages = : 4 
map_new: p3 = 0x111000
mapped : 0xffffbeefed000000 
to physical addresss: 0x80000000 
==flushed TLB==
invalidated: 0xffffbeefed000000 
bmap [ 0xffffbeefed000000 ] size=0 
max size = 262130 max_size_bytes = 0x200000 
Extended VA: : 0x50000000 
idx for VA : 0x50000000 
p4 idx : 0 
p3 idx : 1 
p2 idx : 128 
p1 idx : 0 
 p4 =0  p3 = 1 p2 = 128 p1 = 0 
 p4 =0  p3 = 1 p2 = 128 p1 = 0 
map_identity( p2 = 0x112000 p3 = 0x11b000 p4 = 0x11a000 addr = 0x50000000 num = 2)
ID mapped : 0x50000000 
==flushed TLB==
invalidated: 0x50000000 
note: page aligning requested physaddr (0xbffe1c40) to 0xbfe00000
map_phys_addr():  0xbfe00000 -> 0xffff800000000000 | 2 pages 
Extended VA: : 0xffff800000000000 
idx for VA : 0xffff800000000000 
p4 idx : 256 
p3 idx : 0 
p2 idx : 0 
p1 idx : 0 
 p4 =256  p3 = 0 p2 = 0 p1 = 0 
 p4 =256  p3 = 0 p2 = 0 p1 = 0 
initial p3 = 0x0 p4 = 0x11a000 
alloc new page table at 0x50000000, index now 1 
alloc new page table at 0x50001000, index now 2 
made new: p3 = 0x50000000 p2 = 0x50001000 entry = 0b0000 0000 0000 0000 0000 0000 0000 0000 0101 0000 0000 0000 0000 0000 0000 0011  
we have: p3 = 0x50000000 p2 = 0x50001000 
entry 0 @ 0x50001000 = 0xbfe00081 
 0b0000 0000 0000 0000 0000 0000 0000 0000 1011 1111 1110 0000 0000 0000 1000 0001 
entry 1 @ 0x50001040 = 0xc0000081 
 0b0000 0000 0000 0000 0000 0000 0000 0000 1100 0000 0000 0000 0000 0000 1000 0001 
==flushed TLB==
invalidated: 0xffff800000000000 
RSDT RSDT claims 4 entries 
[0 / 4]  = 0xbffe1af4
[0 ] virtual is 0xffff8000001e1af4, offset was - 0x14c 
found table entry [0] = 'FACP' crc = OK 
added FACP to sysinfo[0], marked FACP idx 0
added FACP to sysinfo[0]
[1 / 4]  = 0xbffe1b68
[1 ] virtual is 0xffff8000001e1b68, offset was - 0xd8 
found table entry [1] = 'APIC' crc = OK 
added APIC to sysinfo[1], marked APIC idx 1
[2 / 4]  = 0xbffe1be0
[2 ] virtual is 0xffff8000001e1be0, offset was - 0x60 
found table entry [2] = 'HPET' crc = OK 
added HPET to sysinfo[2]
[3 / 4]  = 0xbffe1c18
[3 ] virtual is 0xffff8000001e1c18, offset was - 0x28 
found table entry [3] = 'WAET' crc = OK 
added WAET to sysinfo[3]

===MADT===  
madt discover: apic =  
Legacy PICs available and must be disabled to use APIC
madt entry [0] size 8 #1 
madt entry [1] size 12 #2 
madt io_apic id = 0 addr =0x gsi = 0xa0200000000
madt entry [2] size 10 #3 
madt io_apic_override: bussrc = 0 irqsrc =0 gsi = 2, flags: 0b0
madt entry [2] size 10 #4 
madt io_apic_override: bussrc = 0 irqsrc =5 gsi = 5, flags: 0b0000 0000 0000 0000 0000 0000 0000 1101 
madt entry [2] size 10 #5 
madt io_apic_override: bussrc = 0 irqsrc =9 gsi = 9, flags: 0b0000 0000 0000 0000 0000 0000 0000 1101 
madt entry [2] size 10 #6 
madt io_apic_override: bussrc = 0 irqsrc =10 gsi = 10, flags: 0b0000 0000 0000 0000 0000 0000 0000 1101 
madt entry [2] size 10 #7 
madt io_apic_override: bussrc = 0 irqsrc =11 gsi = 11, flags: 0b0000 0000 0000 0000 0000 0000 0000 1101 
madt entry [4] size 6 #8 
madt entry type [4] len 6 unknown 
last madt at 0xffff8000001e1bda size 6. madt at 0xffff8000001e1b68, size 120 
entry end at 0xffff8000001e1be0  madt end at 0xffff8000001e1be0
MADT: ending on madt entry 4, total 8
madt io_apic id = 0 addr =0x gsi = 0xa0200000000
===end madt=== 
 
enabled interupts

==MEM INIT OK==

making new block at 0xffffbeefed200000 size=4121 /  footer @ 0xffffbeefed20100d 
 added to alloc map, new # allocs = 1 
Heap Usage: 25/100 

=== stdout init @ 0xffffbeefed20000d size 4096 idx 0  ready = 1 ===
Graphics Init 1024 x 768 x 32 ready = 1 
tasking init
we found no space to fit size 0x6a1, making new block at 0xffffbeefed201019 size=1722 /  footer @ 0xffffbeefed2016c7 
 added to alloc map, new # allocs = 2 
Heap Usage: 25/100 
we found no space to fit size 0x2000, making new block at 0xffffbeefed2016d3 size=8217 /  footer @ 0xffffbeefed2036e0 
 added to alloc map, new # allocs = 3 
Heap Usage: 25/100 
create_task task_drawtimer pid 1 rip 0x1010e7 !
added initial task  pid 0 !
adding task task_draw_test pid 1 !
we found no space to fit size 0x2000, making new block at 0xffffbeefed2036ec size=8217 /  footer @ 0xffffbeefed2056f9 
 added to alloc map, new # allocs = 4 
Heap Usage: 25/100 
create_task task_draw_test pid 1 rip 0x101170 !
highest bit of 0xffff = 15 of 8 = 3 randos up
===isr[0xe] err{0x5}====
err_code = 0x5
rbp = 0x117ff0
rip = 0x1010bc
ss:rsp = 0x117fb8
cs = 0x1b
rflags = 0x10246
ds = 0x1b
ss = 0x23
rax = 0x117fb8
rbx = 0x3
rcx = 0xffffbeefed20000d
rdx = 0x1
rdi = 0x1010bc
rsi = 0xa
r8 = 0x1053cb
r9 = 0x1
r10 = 0x0
r11 = 0x0
r12 = 0x0
r13 = 0x0
r14 = 0x0
r15 = 0x0

== PAGE FAULT ==
Error: 5 
At Address [CR2]: 0x1010bc 
USER
READ
PAGE-PROTECTION VIOLATION
==============
===isr[0xe] err{0x5}====
err_code = 0x5
rbp = 0x117ff0
rip = 0x1010bc
ss:rsp = 0x117fb8
cs = 0x1b
rflags = 0x10246
ds = 0x1b
ss = 0x23
rax = 0x117fb8
rbx = 0x3
rcx = 0xffffbeefed20000d
rdx = 0x1
rdi = 0x1010bc
rsi = 0xa
r8 = 0x1053cb
r9 = 0x1
r10 = 0x0
r11 = 0x0
r12 = 0x0
r13 = 0x0
r14 = 0x0
r15 = 0x0

== PAGE FAULT ==
Error: 5 
At Address [CR2]: 0x1010bc 
USER
READ
PAGE-PROTECTION VIOLATION
==============
===isr[0xe] err{0x5}====
err_code = 0x5
rbp = 0x117ff0
rip = 0x1010bc
ss:rsp = 0x117fb8
cs = 0x1b
rflags = 0x10246
ds = 0x1b
ss = 0x23
rax = 0x117fb8
rbx = 0x3
rcx = 0xffffbeefed20000d
rdx = 0x1
rdi = 0x1010bc
rsi = 0xa
r8 = 0x1053cb
r9 = 0x1
r10 = 0x0
r11 = 0x0
r12 = 0x0
r13 = 0x0
r14 = 0x0
r15 = 0x0

== PAGE FAULT ==
Error: 5 
At Address [CR2]: 0x1010bc 
USER
READ
PAGE-PROTECTION VIOLATION
==============
===isr[0xe] err{0x5}====
err_code = 0x5
rbp = 0x117ff0
rip = 0x1010bc
ss:rsp = 0x117fb8
cs = 0x1b
rflags = 0x10246
ds = 0x1b
ss = 0x23
rax = 0x117fb8
rbx = 0x3
rcx = 0xffffbeefed20000d
rdx = 0x1
rdi = 0x1010bc
rsi = 0xa
r8 = 0x1053cb
r9 = 0x1
r10 = 0x0
r11 = 0x0
r12 = 0x0
r13 = 0x0
r14 = 0x0
r15 = 0x0

== PAGE FAULT ==
Error: 5 
At Address [CR2]: 0x1010bc 
USER
READ
PAGE-PROTECTION VIOLATION
==============
